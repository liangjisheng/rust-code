# ref cell

内部可变性（Interior mutability）是 Rust 中的一个设计模式，
它允许你即使在有不可变引用时也可以改变数据，这通常是借用规则所不允许的
通过 RefCell<T> 在运行时检查借用规则
RefCell<T> 代表其数据的唯一的所有权

对于引用和 Box<T>，借用规则的不可变性作用于编译时。
对于 RefCell<T>，这些不可变性作用于 运行时
对于引用，如果违反这些规则，会得到一个编译错误。
而对于 RefCell<T>，如果违反这些规则程序会 panic 并退出
RefCell<T> 正是用于当你确信代码遵守借用规则，而编译器不能理解和确定的时候

Rc<T> 允许相同数据有多个所有者；Box<T> 和 RefCell<T> 有单一所有者
Box<T> 允许在编译时执行不可变或可变借用检查；Rc<T>仅允许在编译时执行不可变借用检查
RefCell<T> 允许在运行时执行不可变或可变借用检查。
因为 RefCell<T> 允许在运行时执行可变借用检查，
所以我们可以在即便 RefCell<T> 自身是不可变的情况下修改其内部的值